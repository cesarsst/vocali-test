import{_ as k}from"./BgKryp8n.js";import{r as a,B as w,C as E,c as d,a as e,b as f,j as M,k as v,v as p,t as u,l as _,w as V,m as N,n as S,o as m,d as j}from"./D6MxqhPJ.js";import{u as B}from"./BV_954AB.js";const q={class:"section",style:{"min-height":"100%",display:"flex","align-items":"center","justify-content":"center"}},R={class:"row",style:{width:"100%"}},T={class:"col s12 m10 l6 xl4 offset-m1 offset-l3 offset-xl4"},U={class:"card z-depth-3"},D={class:"card-image"},G={class:"card-content"},O={class:"row"},z={class:"input-field col s12"},A={class:"input-field col s12"},F={class:"input-field col s12"},I=["disabled"],J={class:"section center-align"},K={key:0,class:"red-text text-darken-2"},L={key:1,class:"green-text text-darken-2"},P={class:"card-action center-align"},$={__name:"confirm-email",setup(W){const g=E(),x=S(),h=B(),n=a(""),r=a(""),l=a(!1),o=a(""),i=a("");w(()=>{const s=g.query.email;typeof s=="string"?n.value=s:o.value="Email não fornecido."});const y=async()=>{o.value="",i.value="",l.value=!0;try{await h.confirmSignup(n.value,r.value),i.value="Conta confirmada com sucesso!",setTimeout(()=>x.push("/login"),2e3)}catch(s){console.error("Erro na confirmação:",s),o.value=s.message||"Erro ao confirmar a conta."}finally{l.value=!1}};return(s,t)=>{const b=k,C=N("router-link");return m(),d("section",q,[e("div",R,[e("div",T,[e("div",U,[e("div",D,[f(b,{src:"https://as1.ftcdn.net/v2/jpg/14/38/20/20/1000_F_1438202044_GeEdgMb3SqX7L30GUnsOltuEcO4KZRWY.jpg",alt:"Confirmação",class:"img-responsive"}),t[2]||(t[2]=e("span",{class:"card-title black-text",style:{background:"rgba(255, 255, 255, 0.8)",padding:"6px 12px","border-radius":"6px"}}," Confirmar Conta ",-1))]),e("div",G,[e("form",{onSubmit:M(y,["prevent"])},[e("div",O,[e("div",z,[t[3]||(t[3]=e("label",{for:"email",class:"active"},"Email",-1)),v(e("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=c=>n.value=c),type:"email",disabled:""},null,512),[[p,n.value]])]),e("div",A,[t[4]||(t[4]=e("label",{for:"code"},"Código de Confirmação",-1)),v(e("input",{id:"code","onUpdate:modelValue":t[1]||(t[1]=c=>r.value=c),type:"text",maxlength:"10",required:""},null,512),[[p,r.value]])]),e("div",F,[e("button",{class:"btn-large green waves-effect waves-light col s12",disabled:l.value,style:{"margin-top":"10px"}},u(l.value?"Confirmando...":"Confirmar"),9,I)])])],32),e("div",J,[o.value?(m(),d("p",K,u(o.value),1)):_("",!0),i.value?(m(),d("p",L,u(i.value),1)):_("",!0)])]),e("div",P,[f(C,{to:"/login",class:"blue-text text-darken-2"},{default:V(()=>t[5]||(t[5]=[j(" Já confirmou? Entrar ")])),_:1,__:[5]})])])])])])}}};export{$ as default};
